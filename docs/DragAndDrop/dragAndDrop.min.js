(()=>{"use strict";({410:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(n,r,o,a,i,d,l){var s=t.call(this)||this;return s.dragAndDropList=n,s.isInit=!1,s.dragAndDropItems=Array.from(s.dragAndDropList.children),s.allowDnDFromSelectors=a,s.isRemoveItemLogic=o,e.draggingClassMap.set(n,r),e.onDragStartMap.set(n,i),e.onDragOverMap.set(n,d),e.onDragEndMap.set(n,l),s}return r(e,t),e.prototype.init=function(){var t=this;this.isInit||(this.isInit=!0,this.dragAndDropItems.forEach((function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(){return t.dragStartHandler(e)})),e.addEventListener("touchstart",(function(n){t.touchStartHandler(n,e)})),e.addEventListener("dragover",(function(e){return t.dragOverHandler(e)})),e.addEventListener("touchmove",(function(e){return t.dragOverHandler(e)})),e.addEventListener("dragend",(function(n){return t.dragEndHandler(n,e)})),e.addEventListener("touchend",(function(n){t.touchEndHandler(n,e)}))})),this.dragAndDropList.addEventListener("dragenter",(function(e){return t.dragEnterHandler(e)})),this.dragAndDropList.addEventListener("dragover",(function(e){return t.dragOverHandler(e)})),this.dragAndDropList.addEventListener("touchmove",(function(e){return t.dragOverHandler(e)})),document.addEventListener("touchmove",(function(e){return t.touchMoveHandler(e)})))},e.prototype.dragStartHandler=function(t){if(e.draggingItem=t,t.parentElement){var n=e.draggingClassMap.get(t.parentElement);n&&t.classList.add(n)}if(this.dragAndDropList.contains(t)&&(e.initialStartDnDList=this.dragAndDropList,e.overActiveDragAndDropBox=this.dragAndDropList),t.parentElement){var r=e.onDragStartMap.get(t.parentElement);r&&r()}},e.prototype.touchStartHandler=function(t,n){e.touchDnDPreview=n.cloneNode(!0),e.touchDnDPreview.getAttribute("id")&&e.touchDnDPreview.setAttribute("id",""),e.touchDnDPreview.getAttribute("name")&&e.touchDnDPreview.setAttribute("name",""),e.touchDnDPreview.style.position="fixed",e.touchDnDPreview.style.pointerEvents="none",e.touchDnDPreview.style.zIndex="10000",e.touchDnDPreview.style.transition="none",e.touchDnDPreview.style.left="".concat(t.touches[0].clientX,"px"),e.touchDnDPreview.style.top="".concat(t.touches[0].clientY,"px"),document.body.appendChild(e.touchDnDPreview),this.dragStartHandler(n)},e.prototype.dragOverHandler=function(t){var n;t.preventDefault(),t instanceof DragEvent&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"),n=t instanceof TouchEvent?t.changedTouches[0].clientY:t.clientY;var r=this.dragAndDropList;e.overActiveDragAndDropBox&&(r=e.overActiveDragAndDropBox);var o=Array.from(r.children).filter((function(t){return t!==e.draggingItem})).find((function(t){var e=t.getBoundingClientRect();return n<=e.top+e.height/2}));if(r&&e.draggingItem&&!e.draggingItem.contains(r)&&r.insertBefore(e.draggingItem,o),e.draggingItem&&e.draggingItem.parentElement){var a=e.onDragOverMap.get(e.draggingItem.parentElement);a&&a()}},e.prototype.touchMoveHandler=function(t){var n=t.touches[0].clientX,r=t.touches[0].clientY;e.touchDnDPreview&&(e.touchDnDPreview.style.left="".concat(n,"px"),e.touchDnDPreview.style.top="".concat(r,"px"));var o=document.elementFromPoint(n,r);if(o&&o===this.dragAndDropList&&e.lastTouchMoveElement!==o)return this.dragEnterHandler(t),void(e.lastTouchMoveElement=o);e.lastTouchMoveElement=null},e.prototype.dragEndHandler=function(t,n){var r;if(this.isRemoveItemLogic&&e.overActiveDragAndDropBox===this.dragAndDropList){var o=e.overActiveDragAndDropBox.getBoundingClientRect(),a=void 0,i=void 0;t instanceof TouchEvent?(a=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY):(a=t.clientX,i=t.clientY),(i<o.top||i>o.top+o.height||a<o.left||a>o.left+o.width)&&(null===(r=n.parentNode)||void 0===r||r.removeChild(n))}if(n.parentElement){var d=e.draggingClassMap.get(n.parentElement);d&&n.classList.remove(d)}var l=e.draggingClassMap.get(this.dragAndDropList);if(l&&n.classList.remove(l),e.draggingItem=null,e.initialStartDnDList=null,n.parentElement){var s=e.onDragEndMap.get(n.parentElement);s&&s()}},e.prototype.touchEndHandler=function(t,n){e.touchDnDPreview&&(e.touchDnDPreview.remove(),e.touchDnDPreview=null),this.dragEndHandler(t,n)},e.prototype.dragEnterHandler=function(t){var n,r,o,a;a=t instanceof TouchEvent?document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY):t.currentTarget;for(var i=!1,d=0,l=this.allowDnDFromSelectors;d<l.length;d++){var s=l[d];if(null===(n=e.overActiveDragAndDropBox)||void 0===n?void 0:n.classList.contains(s)){i=!0;break}}var c,g=!1;if(e.initialStartDnDList){g=!0;for(var u=0,v=Array.from(e.initialStartDnDList.classList);u<v.length;u++){var D=v[u];if(!(null==a?void 0:a.classList.contains(D))){g=!1;break}}}(i||g)&&(e.overActiveDragAndDropBox&&(c=e.draggingClassMap.get(e.overActiveDragAndDropBox))&&(null===(r=e.draggingItem)||void 0===r||r.classList.remove(c)),e.overActiveDragAndDropBox=a,e.overActiveDragAndDropBox&&(c=e.draggingClassMap.get(e.overActiveDragAndDropBox))&&(null===(o=e.draggingItem)||void 0===o||o.classList.add(c)))},e}(function(){function t(){}return t.overActiveDragAndDropBox=null,t.draggingItem=null,t.initialStartDnDList=null,t.lastTouchMoveElement=null,t.touchDnDPreview=null,t.draggingClassMap=new Map,t.onDragStartMap=new Map,t.onDragOverMap=new Map,t.onDragEndMap=new Map,t}());HTMLElement.prototype.dragAndDrop=function(t){var e={draggingClass:(null==t?void 0:t.draggingClass)?t.draggingClass:"dragging-item",removeItem:!!(null==t?void 0:t.removeItem)&&t.removeItem,allowDnDFromSelectors:(null==t?void 0:t.allowDnDFromSelectors)?Array.isArray(t.allowDnDFromSelectors)?o([],t.allowDnDFromSelectors,!0):[t.allowDnDFromSelectors]:[],onDragStart:(null==t?void 0:t.onDragStart)?t.onDragStart:function(){},onDragOver:(null==t?void 0:t.onDragOver)?t.onDragOver:function(){},onDragEnd:(null==t?void 0:t.onDragEnd)?t.onDragEnd:function(){}};new a(this,e.draggingClass,e.removeItem,e.allowDnDFromSelectors,e.onDragStart,e.onDragOver,e.onDragEnd).init()}}})[410](0,{})})();